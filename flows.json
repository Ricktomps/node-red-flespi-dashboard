[{"id":"0d0307843fdb0387","type":"tab","label":"Flow 1","disabled":false,"info":"","env":[]},{"id":"8264b3fde8d2dd8f","type":"ui_group","name":"Feed Tank Storage","tab":"cb490e472482cd7f","order":2,"disp":true,"width":9,"collapse":false,"className":""},{"id":"745990b60053ed7d","type":"ui_group","name":"Water Tank Storage","tab":"cb490e472482cd7f","order":3,"disp":true,"width":9,"collapse":false,"className":""},{"id":"3eadb1d429bc424e","type":"mqtt-broker","name":"","broker":"mqtt.flespi.io","port":"1883","clientid":"","autoConnect":true,"usetls":false,"protocolVersion":"4","keepalive":"73","cleansession":true,"autoUnsubscribe":true,"birthTopic":"","birthQos":"0","birthRetain":"false","birthPayload":"","birthMsg":{},"closeTopic":"","closeQos":"0","closeRetain":"false","closePayload":"","closeMsg":{},"willTopic":"","willQos":"0","willRetain":"false","willPayload":"","willMsg":{},"userProps":"","sessionExpiry":""},{"id":"92b760d670ff5f11","type":"ui_group","name":"Water Filler","tab":"cb490e472482cd7f","order":4,"disp":true,"width":9,"collapse":false,"className":""},{"id":"078fde0a499aaf5c","type":"ui_group","name":"Feed Bin","tab":"cb490e472482cd7f","order":1,"disp":true,"width":9,"collapse":false,"className":""},{"id":"0129133c0448b399","type":"ui_group","name":"Excel Chart","tab":"26d2b25dc90a57c0","order":2,"disp":true,"width":30,"collapse":false,"className":""},{"id":"cb490e472482cd7f","type":"ui_tab","name":"IOT Enabled Semi-Smart Automated Chiken Feeder and Watering System Utilizing ESP32 Web-based Control and GMS Notifications","icon":"dashboard","order":1,"disabled":false,"hidden":false},{"id":"26d2b25dc90a57c0","type":"ui_tab","name":"Food and Water Dispensed Logger Excel Chart","icon":"dashboard","order":2,"disabled":false,"hidden":false},{"id":"7ba096bd80c3a377","type":"ui_base","theme":{"name":"theme-light","lightTheme":{"default":"#0094CE","baseColor":"#0094CE","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"darkTheme":{"default":"#097479","baseColor":"#097479","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":false},"customTheme":{"name":"Untitled Theme 1","default":"#4B7930","baseColor":"#4B7930","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"},"themeState":{"base-color":{"default":"#0094CE","value":"#0094CE","edited":false},"page-titlebar-backgroundColor":{"value":"#0094CE","edited":false},"page-backgroundColor":{"value":"#fafafa","edited":false},"page-sidebar-backgroundColor":{"value":"#ffffff","edited":false},"group-textColor":{"value":"#1bbfff","edited":false},"group-borderColor":{"value":"#ffffff","edited":false},"group-backgroundColor":{"value":"#ffffff","edited":false},"widget-textColor":{"value":"#111111","edited":false},"widget-backgroundColor":{"value":"#0094ce","edited":false},"widget-borderColor":{"value":"#ffffff","edited":false},"base-font":{"value":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"}},"angularTheme":{"primary":"indigo","accents":"blue","warn":"red","background":"grey","palette":"light"}},"site":{"name":"Node-RED Dashboard","hideToolbar":"false","allowSwipe":"false","lockMenu":"false","allowTempTheme":"true","dateFormat":"DD/MM/YYYY","sizes":{"sx":48,"sy":48,"gx":6,"gy":6,"cx":6,"cy":6,"px":0,"py":0}}},{"id":"084b9951e3ec76b1","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"078fde0a499aaf5c","order":1,"width":9,"height":1},{"id":"4eb80b04ad424026","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"078fde0a499aaf5c","order":2,"width":9,"height":1},{"id":"68ce6a349958d2e5","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"078fde0a499aaf5c","order":3,"width":1,"height":1},{"id":"c671449b73015c30","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"078fde0a499aaf5c","order":5,"width":1,"height":1},{"id":"7ac916d0cdc62328","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"078fde0a499aaf5c","order":6,"width":1,"height":1},{"id":"903d53a4524cc05c","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"078fde0a499aaf5c","order":7,"width":1,"height":1},{"id":"8eb5a7f9c42c1b0a","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"078fde0a499aaf5c","order":8,"width":1,"height":1},{"id":"7e025664a105267c","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"078fde0a499aaf5c","order":9,"width":1,"height":1},{"id":"e909cb2ca4ac2373","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"078fde0a499aaf5c","order":10,"width":1,"height":1},{"id":"65672cfac231e291","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"078fde0a499aaf5c","order":11,"width":1,"height":1},{"id":"206160959afae431","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"078fde0a499aaf5c","order":12,"width":1,"height":1},{"id":"4f4cc753c61f59d1","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"078fde0a499aaf5c","order":13,"width":1,"height":1},{"id":"150d02bfc5700a65","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"078fde0a499aaf5c","order":14,"width":1,"height":1},{"id":"e6be381ec780eb36","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"078fde0a499aaf5c","order":15,"width":1,"height":1},{"id":"e4b61f74053903d1","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"078fde0a499aaf5c","order":16,"width":1,"height":1},{"id":"5eb0fe4272d70b71","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"078fde0a499aaf5c","order":17,"width":1,"height":1},{"id":"9f70ef580ebe55bb","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"078fde0a499aaf5c","order":18,"width":9,"height":1},{"id":"b34ca09ded143990","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"078fde0a499aaf5c","order":19,"width":1,"height":1},{"id":"7f8426f5c95fb658","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"078fde0a499aaf5c","order":21,"width":1,"height":1},{"id":"893d8a13d67f0957","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"078fde0a499aaf5c","order":22,"width":1,"height":1},{"id":"7444af95c809ae71","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"078fde0a499aaf5c","order":24,"width":1,"height":1},{"id":"dd690ac7a1aafd0f","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"078fde0a499aaf5c","order":26,"width":1,"height":1},{"id":"2465dbdbaaa1511e","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"078fde0a499aaf5c","order":27,"width":1,"height":1},{"id":"5c58413c15716f2c","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"078fde0a499aaf5c","order":29,"width":1,"height":1},{"id":"f386238252703325","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"8264b3fde8d2dd8f","order":1,"width":9,"height":1},{"id":"434cb60363bc61dc","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"8264b3fde8d2dd8f","order":2,"width":9,"height":1},{"id":"24bf0fa1aece5676","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"8264b3fde8d2dd8f","order":3,"width":1,"height":1},{"id":"3dadf90c77fa3097","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"8264b3fde8d2dd8f","order":5,"width":1,"height":1},{"id":"12f2a22b7b6824fc","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"8264b3fde8d2dd8f","order":6,"width":1,"height":1},{"id":"6714cd19b365e224","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"8264b3fde8d2dd8f","order":7,"width":1,"height":1},{"id":"20fa3fdb4ea3f329","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"8264b3fde8d2dd8f","order":8,"width":1,"height":1},{"id":"d0cb73251e3e106b","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"8264b3fde8d2dd8f","order":9,"width":1,"height":1},{"id":"bdecd1ed33f397ec","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"8264b3fde8d2dd8f","order":10,"width":1,"height":1},{"id":"4f76b695e3ad1cc8","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"8264b3fde8d2dd8f","order":11,"width":1,"height":1},{"id":"4eacee4175c38b59","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"8264b3fde8d2dd8f","order":12,"width":1,"height":1},{"id":"de60bffedc97048b","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"8264b3fde8d2dd8f","order":13,"width":1,"height":1},{"id":"ab4f93280a1a2f83","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"8264b3fde8d2dd8f","order":14,"width":1,"height":1},{"id":"27f1668b2ef36759","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"8264b3fde8d2dd8f","order":15,"width":1,"height":1},{"id":"419d79696b15fd99","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"8264b3fde8d2dd8f","order":16,"width":1,"height":1},{"id":"b78146d232d482ed","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"8264b3fde8d2dd8f","order":17,"width":1,"height":1},{"id":"f64d9d48d55ad42e","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"8264b3fde8d2dd8f","order":18,"width":1,"height":1},{"id":"bb5467f7d5daadf2","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"8264b3fde8d2dd8f","order":20,"width":1,"height":1},{"id":"db339b9293d9852c","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"8264b3fde8d2dd8f","order":21,"width":1,"height":1},{"id":"15566fe5dd923841","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"8264b3fde8d2dd8f","order":23,"width":1,"height":1},{"id":"f2c6e9bcbfc3ed52","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"8264b3fde8d2dd8f","order":24,"width":1,"height":1},{"id":"90078914d81d43bf","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"8264b3fde8d2dd8f","order":26,"width":1,"height":1},{"id":"5382a6776a20d492","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"8264b3fde8d2dd8f","order":27,"width":1,"height":1},{"id":"c5611235e50c6fea","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"8264b3fde8d2dd8f","order":29,"width":1,"height":1},{"id":"bf4e203eafe90ad2","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"745990b60053ed7d","order":1,"width":9,"height":1},{"id":"b8a0f136ac7e21c4","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"745990b60053ed7d","order":2,"width":9,"height":1},{"id":"26b05889c35299e9","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"745990b60053ed7d","order":3,"width":1,"height":1},{"id":"fabcf262cbdaa195","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"745990b60053ed7d","order":5,"width":1,"height":1},{"id":"f98584f36e7066e0","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"745990b60053ed7d","order":6,"width":1,"height":1},{"id":"1cbab6c9cd81a938","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"745990b60053ed7d","order":7,"width":1,"height":1},{"id":"8661911a6717e469","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"745990b60053ed7d","order":8,"width":1,"height":1},{"id":"fd239451c917d3b9","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"745990b60053ed7d","order":9,"width":1,"height":1},{"id":"fecb78e02ebfbb40","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"745990b60053ed7d","order":10,"width":1,"height":1},{"id":"0939487c6a7a4b19","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"745990b60053ed7d","order":11,"width":1,"height":1},{"id":"796fe13b1b7bea85","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"745990b60053ed7d","order":12,"width":1,"height":1},{"id":"89ecabb939fdf9d6","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"745990b60053ed7d","order":13,"width":1,"height":1},{"id":"118edfc948de0952","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"745990b60053ed7d","order":14,"width":1,"height":1},{"id":"ca02aee9cc594f02","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"745990b60053ed7d","order":15,"width":1,"height":1},{"id":"4b7a3d3e6154464e","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"745990b60053ed7d","order":16,"width":1,"height":1},{"id":"7f9cdc0d5810d4dd","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"745990b60053ed7d","order":17,"width":1,"height":1},{"id":"eae73a4a1aaeb4f4","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"745990b60053ed7d","order":18,"width":1,"height":1},{"id":"40d3b5942a95bcc7","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"745990b60053ed7d","order":20,"width":1,"height":1},{"id":"afe3a9e02a5b11ef","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"745990b60053ed7d","order":21,"width":1,"height":1},{"id":"64657390b1bf4365","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"745990b60053ed7d","order":23,"width":1,"height":1},{"id":"4ebe3ea8a1939665","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"745990b60053ed7d","order":24,"width":1,"height":1},{"id":"1ed40b704ecb2e28","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"745990b60053ed7d","order":26,"width":1,"height":1},{"id":"f36467c430c17af8","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"745990b60053ed7d","order":27,"width":1,"height":1},{"id":"ed59eb1baebac5b1","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"745990b60053ed7d","order":29,"width":1,"height":1},{"id":"99b08d1321f6774d","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"92b760d670ff5f11","order":1,"width":9,"height":1},{"id":"a5191897602fb542","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"92b760d670ff5f11","order":2,"width":9,"height":1},{"id":"ccb62635edb63857","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"92b760d670ff5f11","order":3,"width":1,"height":1},{"id":"de9380f840191909","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"92b760d670ff5f11","order":5,"width":1,"height":1},{"id":"2de3a47fb30c4dcb","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"92b760d670ff5f11","order":6,"width":1,"height":1},{"id":"d46db6b6d568534e","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"92b760d670ff5f11","order":7,"width":1,"height":1},{"id":"86ab77255a61bfcc","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"92b760d670ff5f11","order":8,"width":1,"height":1},{"id":"4c3b2a22b0acdb0c","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"92b760d670ff5f11","order":9,"width":1,"height":1},{"id":"37653f33f890dfb5","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"92b760d670ff5f11","order":10,"width":1,"height":1},{"id":"235937349f765cbb","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"92b760d670ff5f11","order":11,"width":1,"height":1},{"id":"17c8c2035edd5a6c","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"92b760d670ff5f11","order":12,"width":1,"height":1},{"id":"bf0994a38c863f99","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"92b760d670ff5f11","order":13,"width":1,"height":1},{"id":"0c8ef48b97203e9f","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"92b760d670ff5f11","order":14,"width":1,"height":1},{"id":"53459b2c7f015423","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"92b760d670ff5f11","order":15,"width":1,"height":1},{"id":"7ee79104e1e4b0f9","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"92b760d670ff5f11","order":16,"width":1,"height":1},{"id":"0b5ad9d2c0d18501","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"92b760d670ff5f11","order":17,"width":1,"height":1},{"id":"35feecf287e7e7dd","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"92b760d670ff5f11","order":18,"width":9,"height":1},{"id":"fbf963bfcf9f71f8","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"92b760d670ff5f11","order":19,"width":1,"height":1},{"id":"b92b2c2e3e73f4f1","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"92b760d670ff5f11","order":21,"width":1,"height":1},{"id":"23d85fad5291df5b","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"92b760d670ff5f11","order":22,"width":1,"height":1},{"id":"87ba70c1849ad9f3","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"92b760d670ff5f11","order":24,"width":1,"height":1},{"id":"1460cde127fbc80a","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"92b760d670ff5f11","order":26,"width":1,"height":1},{"id":"4d8f0ea321a8b70a","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"92b760d670ff5f11","order":27,"width":1,"height":1},{"id":"6bf1bfa4ddc3ebf3","type":"ui_spacer","z":"0d0307843fdb0387","name":"spacer","group":"92b760d670ff5f11","order":29,"width":1,"height":1},{"id":"9aa22e02d3cee79a","type":"ui_text","z":"0d0307843fdb0387","group":"8264b3fde8d2dd8f","order":19,"width":7,"height":1,"name":"","label":"Morning Schedule: 6:15 AM","format":"{{msg.payload}}","layout":"row-center","className":"","style":true,"font":"Arial Black,Arial Black,Gadget,sans-serif","fontSize":"20","color":"#000000","x":380,"y":400,"wires":[]},{"id":"1605d9b8aec6b491","type":"ui_text","z":"0d0307843fdb0387","group":"8264b3fde8d2dd8f","order":22,"width":7,"height":1,"name":"","label":"Morning Feeding Schedule","format":"{{msg.payload}}","layout":"row-center","className":"","style":true,"font":"Arial Black,Arial Black,Gadget,sans-serif","fontSize":"20","color":"#000000","x":380,"y":360,"wires":[]},{"id":"7646c361e4c66aab","type":"ui_text","z":"0d0307843fdb0387","group":"745990b60053ed7d","order":19,"width":7,"height":1,"name":"","label":"Afternoon Schedule: 3:15 PM","format":"{{msg.payload}}","layout":"row-center","className":"","style":true,"font":"Arial Black,Arial Black,Gadget,sans-serif","fontSize":"20","color":"#000000","x":640,"y":400,"wires":[]},{"id":"47e7d9edb1a01a33","type":"ui_text","z":"0d0307843fdb0387","group":"745990b60053ed7d","order":22,"width":7,"height":1,"name":"","label":"Afternoon Feeding Schedule","format":"{{msg.payload}}","layout":"row-center","className":"","style":true,"font":"Arial Black,Arial Black,Gadget,sans-serif","fontSize":"20","color":"#000000","x":640,"y":360,"wires":[]},{"id":"15d5a4a141e1b04e","type":"mqtt in","z":"0d0307843fdb0387","name":"","topic":"sensors/ultrasonic","qos":"0","datatype":"json","broker":"3eadb1d429bc424e","nl":false,"rap":false,"inputs":0,"x":470,"y":480,"wires":[["9720bf925d2b2928"]]},{"id":"9720bf925d2b2928","type":"function","z":"0d0307843fdb0387","name":"Split Sensors","func":"return [\n  { payload: msg.payload.sensor_1 },\n  { payload: msg.payload.sensor_2 },\n  { payload: msg.payload.sensor_3 }\n];","outputs":3,"timeout":"","noerr":0,"initialize":"","finalize":"","libs":[],"x":650,"y":480,"wires":[["601d418eb251d5cf"],["a3f0eae4e567b191"],["e532cde7f1a43152"]]},{"id":"e532cde7f1a43152","type":"ui_gauge","z":"0d0307843fdb0387","name":"","group":"745990b60053ed7d","order":4,"width":7,"height":7,"gtype":"wave","title":"Water Tank Storage","label":"cm","format":"{{value}}","min":"0","max":"15","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","diff":false,"className":"","x":870,"y":520,"wires":[]},{"id":"a3f0eae4e567b191","type":"ui_gauge","z":"0d0307843fdb0387","name":"","group":"8264b3fde8d2dd8f","order":4,"width":7,"height":7,"gtype":"gage","title":"Feed Tank Storage","label":"cm","format":"{{value}}","min":"0","max":"15","colors":["#b30000","#e6e600","#00b500"],"seg1":"","seg2":"","diff":false,"className":"","x":890,"y":480,"wires":[]},{"id":"601d418eb251d5cf","type":"ui_gauge","z":"0d0307843fdb0387","name":"","group":"92b760d670ff5f11","order":4,"width":7,"height":7,"gtype":"wave","title":"Water Filler","label":"cm","format":"{{value}}","min":"0","max":"15","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","diff":false,"className":"","x":890,"y":440,"wires":[]},{"id":"bba31deabb9e2b79","type":"ui_button","z":"0d0307843fdb0387","name":"Pump ON","group":"92b760d670ff5f11","order":25,"width":3,"height":1,"passthru":false,"label":"Pump ON","tooltip":"","color":"","bgcolor":"","className":"","icon":"","payload":"ON","payloadType":"str","topic":"pump/control","topicType":"str","x":460,"y":660,"wires":[["d68d02aad805784d","826eec0b316b3892"]]},{"id":"60a968c418b4052b","type":"ui_button","z":"0d0307843fdb0387","name":"Pump OFF","group":"92b760d670ff5f11","order":23,"width":3,"height":1,"label":"Pump OFF","payload":"OFF","payloadType":"str","topic":"pump/control","x":460,"y":720,"wires":[["d68d02aad805784d","826eec0b316b3892"]]},{"id":"d68d02aad805784d","type":"mqtt out","z":"0d0307843fdb0387","name":"","topic":"pump/control","qos":"2","retain":"true","respTopic":"","contentType":"","userProps":"","correl":"","expiry":"","broker":"3eadb1d429bc424e","x":890,"y":720,"wires":[]},{"id":"8c1147de50375498","type":"ui_text","z":"0d0307843fdb0387","group":"92b760d670ff5f11","order":20,"width":7,"height":1,"label":"Water Pump Switch","format":"{{msg.payload}}","x":610,"y":600,"wires":[]},{"id":"826eec0b316b3892","type":"ui_text","z":"0d0307843fdb0387","group":"92b760d670ff5f11","order":28,"width":7,"height":1,"label":"Indicator","format":"{{msg.payload}}","x":740,"y":800,"wires":[]},{"id":"f1913d41fa3b79b0","type":"mqtt in","z":"0d0307843fdb0387","name":"","topic":"sensors/weight_remote","qos":"2","datatype":"auto-detect","broker":"3eadb1d429bc424e","nl":false,"rap":true,"rh":0,"inputs":0,"x":670,"y":60,"wires":[["96b3e5f5964dfebf"]]},{"id":"96b3e5f5964dfebf","type":"ui_gauge","z":"0d0307843fdb0387","name":"","group":"078fde0a499aaf5c","order":4,"width":7,"height":7,"gtype":"gage","title":"Feed Bin","label":"g","format":"{{value}}","min":0,"max":"0.500","colors":["#b30000","#e6e600","#00b500"],"seg1":"","seg2":"","diff":false,"className":"","x":920,"y":80,"wires":[]},{"id":"641dca135d9776d7","type":"ui_button","z":"0d0307843fdb0387","name":"Move 0","group":"078fde0a499aaf5c","order":23,"width":3,"height":1,"label":"SERVO OFF","payload":"0","payloadType":"str","topic":"servo/control","x":890,"y":200,"wires":[["d7c3f0e29edd71d6","1bd5f2fa65c6f2d4"]]},{"id":"70ed18e8e3eb1d0c","type":"ui_button","z":"0d0307843fdb0387","name":"Move 180","group":"078fde0a499aaf5c","order":25,"width":3,"height":1,"passthru":false,"label":"SERVO ON","tooltip":"","color":"","bgcolor":"","className":"","icon":"","payload":"180","payloadType":"str","topic":"servo/control","topicType":"str","x":890,"y":260,"wires":[["d7c3f0e29edd71d6","1bd5f2fa65c6f2d4"]]},{"id":"d7c3f0e29edd71d6","type":"mqtt out","z":"0d0307843fdb0387","name":"","topic":"servo/control","qos":"2","retain":"true","respTopic":"","contentType":"","userProps":"","correl":"","expiry":"","broker":"3eadb1d429bc424e","x":1140,"y":240,"wires":[]},{"id":"1bd5f2fa65c6f2d4","type":"ui_text","z":"0d0307843fdb0387","group":"078fde0a499aaf5c","order":28,"width":7,"height":1,"label":"Indicator","format":"{{msg.payload}}","x":1130,"y":320,"wires":[]},{"id":"ec22629b3ae12e88","type":"ui_text","z":"0d0307843fdb0387","group":"078fde0a499aaf5c","order":20,"width":7,"height":1,"label":"Servo Switch","format":"{{msg.payload}}","x":1100,"y":180,"wires":[]},{"id":"0a2b9a22b5c8dfbe","type":"ui_template","z":"0d0307843fdb0387","group":"0129133c0448b399","name":"ThingSpeak Button","order":1,"width":30,"height":21,"format":"<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>ThingSpeak Charts</title>\n  <style>\n    html,\n    body {\n      height: 100%;\n      margin: 0;\n      padding: 0;\n      font-family: Arial, sans-serif;\n      background: #f8f9fa;\n    }\n\n    h2,\n    h3 {\n      margin: 10px 0;\n      text-align: center;\n      color: #333;\n    }\n\n    .charts-container {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      gap: 50px;\n      padding: 20px;\n      width: 100%;\n    }\n\n    .chart-wrapper {\n      width: 100%;\n      max-width: 900px;\n      height: 450px;\n      background: #fff;\n      border-radius: 12px;\n      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n      padding: 15px;\n    }\n\n    .btn-container {\n      text-align: center;\n      margin: 20px 0;\n    }\n\n    .btn-link {\n      background-color: #28a745;\n      color: white;\n      border: none;\n      padding: 10px 20px;\n      font-size: 16px;\n      cursor: pointer;\n      border-radius: 5px;\n      text-decoration: none;\n    }\n\n    .btn-link:hover {\n      background-color: #218838;\n    }\n  </style>\n  <script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\n</head>\n\n<body>\n  <h2>Food & Water Dispensed Logger</h2>\n\n  <div class=\"btn-container\">\n    <a class=\"btn-link\" href=\"https://thingspeak.mathworks.com/channels/3012156\" target=\"_blank\">\n      Open Excel Chart\n    </a>\n  </div>\n\n  <div class=\"charts-container\">\n    <div>\n      <h3>Water Dispensed Amount (cm)</h3>\n      <div class=\"chart-wrapper\">\n        <canvas id=\"waterChart\"></canvas>\n      </div>\n    </div>\n    <div>\n      <h3>Food Dispensed Amount (g)</h3>\n      <div class=\"chart-wrapper\">\n        <canvas id=\"foodChart\"></canvas>\n      </div>\n    </div>\n  </div>\n\n  <script>\n    async function fetchThingSpeakData() {\n      const url = \"https://api.thingspeak.com/channels/3012156/feeds.json?api_key=0VDAPPHULHOO693A&results=1000\";\n\n      try {\n        const response = await fetch(url);\n        const data = await response.json();\n\n        const labels = [];\n        const waterValues = [];\n        const foodValues = [];\n\n        data.feeds.forEach(feed => {\n          const label = new Date(feed.created_at).toLocaleDateString();\n          const water = Number(feed.field1);\n          const food = Number(feed.field2);\n\n          labels.push(label);\n          // replace 0 with null to skip plotting\n          waterValues.push(water === 0 ? null : water);\n          foodValues.push(food === 0 ? null : food);\n        });\n\n        return { labels, waterValues, foodValues };\n      } catch (err) {\n        console.error(\"HTTP Request Failed:\", err);\n        return { labels: [], waterValues: [], foodValues: [] };\n      }\n    }\n\n    async function renderCharts() {\n      const { labels, waterValues, foodValues } = await fetchThingSpeakData();\n\n      new Chart(document.getElementById(\"waterChart\").getContext(\"2d\"), {\n        type: \"line\",\n        data: {\n          labels: labels,\n          datasets: [{\n            label: \"Water Dispensed Amount (cm)\",\n            data: waterValues,\n            borderColor: \"#007BFF\",\n            backgroundColor: \"rgba(0,123,255,0.2)\",\n            fill: true,\n            tension: 0.4,\n            spanGaps: true,\n            pointRadius: 4,\n            pointHoverRadius: 6\n          }]\n        },\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          plugins: {\n            tooltip: {\n              callbacks: {\n                label: (ctx) => ctx.raw ? `${ctx.raw} cm on ${ctx.label}` : null\n              }\n            },\n            legend: { labels: { color: \"#333\" } }\n          },\n          scales: {\n            x: {\n              title: { display: true, text: \"Date\", color: \"#555\" },\n              grid: { color: \"#eee\" }\n            },\n            y: {\n              title: { display: true, text: \"Value (cm)\", color: \"#555\" },\n              grid: { color: \"#eee\" }\n            }\n          }\n        }\n      });\n\n      new Chart(document.getElementById(\"foodChart\").getContext(\"2d\"), {\n        type: \"line\",\n        data: {\n          labels: labels,\n          datasets: [{\n            label: \"Food Dispensed Amount (g)\",\n            data: foodValues,\n            borderColor: \"#FF5733\",\n            backgroundColor: \"rgba(255,87,51,0.2)\",\n            fill: true,\n            tension: 0.4,\n            spanGaps: true,\n            pointRadius: 4,\n            pointHoverRadius: 6\n          }]\n        },\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          plugins: {\n            tooltip: {\n              callbacks: {\n                label: (ctx) => ctx.raw ? `${ctx.raw} g on ${ctx.label}` : null\n              }\n            },\n            legend: { labels: { color: \"#333\" } }\n          },\n          scales: {\n            x: {\n              title: { display: true, text: \"Date\", color: \"#555\" },\n              grid: { color: \"#eee\" }\n            },\n            y: {\n              title: { display: true, text: \"Value (g)\", color: \"#555\" },\n              grid: { color: \"#eee\" }\n            }\n          }\n        }\n      });\n    }\n\n    renderCharts();\n    setInterval(renderCharts, 30000);\n  </script>\n</body>\n\n</html>\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","className":"","x":950,"y":920,"wires":[[]]},{"id":"76653bb793aa4e06","type":"mqtt in","z":"0d0307843fdb0387","name":"","topic":"notif/food","qos":"2","datatype":"auto-detect","broker":"3eadb1d429bc424e","nl":false,"rap":true,"rh":0,"inputs":0,"x":1080,"y":580,"wires":[["9e5363fe0e19bd75"]]},{"id":"72da6cdf30bcac40","type":"mqtt in","z":"0d0307843fdb0387","name":"","topic":"notif/water","qos":"2","datatype":"auto-detect","broker":"3eadb1d429bc424e","nl":false,"rap":true,"rh":0,"inputs":0,"x":1100,"y":640,"wires":[["7ce1d452fe398114"]]},{"id":"9e5363fe0e19bd75","type":"ui_text","z":"0d0307843fdb0387","group":"8264b3fde8d2dd8f","order":28,"width":7,"height":1,"name":"","label":"","format":"{{msg.payload}}","layout":"row-center","className":"","style":true,"font":"Arial Black,Arial Black,Gadget,sans-serif","fontSize":"20","color":"#000000","x":1230,"y":580,"wires":[]},{"id":"7ce1d452fe398114","type":"ui_text","z":"0d0307843fdb0387","group":"745990b60053ed7d","order":28,"width":7,"height":1,"name":"","label":"","format":"{{msg.payload}}","layout":"row-center","className":"","style":true,"font":"Arial Black,Arial Black,Gadget,sans-serif","fontSize":"20","color":"#000000","x":1250,"y":640,"wires":[]},{"id":"abf25890a6bd8dd9","type":"ui_text","z":"0d0307843fdb0387","group":"8264b3fde8d2dd8f","order":25,"width":7,"height":1,"name":"","label":"Notifications:","format":"{{msg.payload}}","layout":"row-center","className":"","style":true,"font":"Arial Black,Arial Black,Gadget,sans-serif","fontSize":"20","color":"#000000","x":1150,"y":760,"wires":[]},{"id":"df475308b89e8f86","type":"ui_text","z":"0d0307843fdb0387","group":"745990b60053ed7d","order":25,"width":7,"height":1,"name":"","label":"Notifications:","format":"{{msg.payload}}","layout":"row-center","className":"","style":true,"font":"Arial Black,Arial Black,Gadget,sans-serif","fontSize":"20","color":"#000000","x":1150,"y":720,"wires":[]},{"id":"247be521bca3de26","type":"mqtt in","z":"0d0307843fdb0387","name":"","topic":"servo/state","qos":"2","datatype":"auto-detect","broker":"3eadb1d429bc424e","nl":false,"rap":true,"rh":0,"inputs":0,"x":900,"y":340,"wires":[["1bd5f2fa65c6f2d4"]]},{"id":"27e206f9903e091b","type":"mqtt in","z":"0d0307843fdb0387","name":"","topic":"pump/state","qos":"2","datatype":"auto-detect","broker":"3eadb1d429bc424e","nl":false,"rap":true,"rh":0,"inputs":0,"x":500,"y":840,"wires":[["826eec0b316b3892"]]}]